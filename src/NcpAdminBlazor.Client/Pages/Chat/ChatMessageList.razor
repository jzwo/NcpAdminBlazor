@using Microsoft.Extensions.AI

<div class="grow overflow-y-auto p-4 space-y-4 h-full bg-gray-50 dark:bg-transparent">
    @foreach (var message in Messages)
    {
        <ChatMessageItem Message="message" />
    }
    
    @if (IsLoading)
    {
        <div class="flex justify-start w-full mb-4">
            <div class="p-3 bg-gray-100 dark:bg-gray-700 rounded-2xl rounded-bl-none shadow-sm">
                 <MudProgressCircular Size="Size.Small" Indeterminate="true" />
            </div>
        </div>
    }
</div>

@code {
    [Parameter] public IReadOnlyList<ChatHistoryMessage> Messages { get; set; } = Array.Empty<ChatHistoryMessage>();
    [Parameter] public bool IsLoading { get; set; }
}
